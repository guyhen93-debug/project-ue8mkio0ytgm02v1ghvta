{
  "name": "Order",
  "description": "An order for construction materials",
  "properties": {
    "order_number": {
      "type": "string",
      "description": "Sequential order number (e.g., 2001, 2002, etc.)"
    },
    "client_id": {
      "type": "string",
      "description": "The ID of the client (FK→clients.id)"
    },
    "site_id": {
      "type": "string",
      "description": "The ID of the delivery site (FK→sites.id)"
    },
    "product_id": {
      "type": "string",
      "description": "The ID of the ordered product"
    },
    "quantity_tons": {
      "type": "number",
      "description": "The quantity ordered in tons"
    },
    "delivery_date": {
      "type": "string",
      "description": "The delivery date (ISO string)"
    },
    "delivery_window": {
      "type": "string",
      "description": "The delivery window (morning/afternoon)",
      "enum": ["morning", "afternoon"]
    },
    "delivery_method": {
      "type": "string",
      "description": "The delivery method (self/external)",
      "enum": ["self", "external"]
    },
    "supplier": {
      "type": "string",
      "description": "The supplier (shifuli_har/maavar_rabin)",
      "enum": ["shifuli_har", "maavar_rabin"]
    },
    "notes": {
      "type": "string",
      "description": "Additional notes for the order"
    },
    "status": {
      "type": "string",
      "description": "The order status",
      "enum": ["pending", "approved", "rejected", "completed"],
      "default": "pending"
    },
    "unlinked_site": {
      "type": "boolean",
      "description": "Whether this is a legacy order without proper site linking",
      "default": false
    }
  }
}